diff --git a/iphone/Classes/FBConnect/Facebook.m b/iphone/Classes/FBConnect/Facebook.m
index 4b61e5e..25e39d5 100644
--- a/iphone/Classes/FBConnect/Facebook.m
+++ b/iphone/Classes/FBConnect/Facebook.m
@@ -408,6 +408,7 @@ static void *finishedContext = @"finishedContext";
  *   by SDK, NO otherwise.
  */
 - (BOOL)handleOpenURL:(NSURL *)url {
+    NSLog(@"Facebook.m: handleOpenURL");
     // If the URL's structure doesn't match the structure used for Facebook authorization, abort.
     if (![[url absoluteString] hasPrefix:[self getOwnBaseUrl]]) {
         return NO;
@@ -422,6 +423,8 @@ static void *finishedContext = @"finishedContext";
     if (!query) {
         query = [url query];
     }
+
+    NSLog(@"Facebook.m: handleOpenURL 0");
     
     NSDictionary *params = [self parseURLParams:query];
     NSString *accessToken = [params objectForKey:@"access_token"];
@@ -455,6 +458,8 @@ static void *finishedContext = @"finishedContext";
         return YES;
     }
     
+    NSLog(@"Facebook.m: handleOpenURL 1");
+
     // We have an access token, so parse the expiration date.
     NSString *expTime = [params objectForKey:@"expires_in"];
     NSDate *expirationDate = [NSDate distantFuture];
@@ -788,6 +793,7 @@ static void *finishedContext = @"finishedContext";
  * Set the authToken and expirationDate after login succeed
  */
 - (void)fbDialogLogin:(NSString *)token expirationDate:(NSDate *)expirationDate {
+    NSLog(@"Facebook.m: fbDialogLogin");
     self.accessToken = token;
     self.expirationDate = expirationDate;
     [_lastAccessTokenUpdate release];
@@ -803,6 +809,7 @@ static void *finishedContext = @"finishedContext";
  * Did not login call the not login delegate
  */
 - (void)fbDialogNotLogin:(BOOL)cancelled {
+    NSLog(@"Facebook.m: fbDialogNotLogin");
     if ([self.sessionDelegate respondsToSelector:@selector(fbDidNotLogin:)]) {
         [self.sessionDelegate fbDidNotLogin:cancelled];
     }
diff --git a/iphone/Classes/FacebookModule.m b/iphone/Classes/FacebookModule.m
index 168b51d..33f528a 100644
--- a/iphone/Classes/FacebookModule.m
+++ b/iphone/Classes/FacebookModule.m
@@ -113,23 +113,35 @@
 
 -(BOOL)handleRelaunch
 {
+	NSLog(@"FacebookModule: handleRelaunch");
 	NSDictionary *launchOptions = [[TiApp app] launchOptions];
+	NSLog(@"FacebookModule: handleRelaunch 0");
 	if (launchOptions!=nil)
 	{
+		NSLog(@"FacebookModule: handleRelaunch 1");
 		NSString *urlString = [launchOptions objectForKey:@"url"];
+		NSLog(@"FacebookModule: handleRelaunch 2");
 		if (urlString!=nil && [urlString hasPrefix:@"fb"])
 		{
+			NSLog(@"FacebookModule: handleRelaunch 3");
 			// if we're resuming under the same URL, we need to ignore
 			if (url!=nil && [urlString isEqualToString:url])
 			{
-				return YES;
+				NSLog(@"FacebookModule: handleRelaunch 4");
+				//return YES;
 			}
+			NSLog(@"FacebookModule: handleRelaunch 5");
 			RELEASE_TO_NIL(url);
+			NSLog(@"FacebookModule: handleRelaunch 6");
 			url = [urlString copy];
+			NSLog(@"FacebookModule: handleRelaunch 7");
 			[facebook handleOpenURL:[NSURL URLWithString:urlString]];
+			NSLog(@"FacebookModule: handleRelaunch 8");
 			return YES;
 		}
+		NSLog(@"FacebookModule: handleRelaunch 9");
 	}
+	NSLog(@"FacebookModule: handleRelaunch 10");
 	return NO;
 }
 
@@ -242,6 +254,7 @@
  */
 -(id)loggedIn
 {
+	NSLog(@"FacebookModule: loggedIn");
 	return NUMBOOL([self isLoggedIn]);
 }
 
@@ -379,12 +392,13 @@
 {
 	ENSURE_UI_THREAD(authorize, args);
 	
+	NSLog(@"FacebookModule: authorize");
 	VerboseLog(@"[DEBUG] facebook authorize");
 
 	if ([self isLoggedIn])
 	{
 		// if already authorized, this should do nothing
-		return;
+		//return;
 	}
 	
 	if (appid==nil)
@@ -409,10 +423,12 @@
  */
 -(void)logout:(id)args
 {
+	NSLog(@"FacebookModule: logout");
 	VerboseLog(@"[DEBUG] facebook logout");
 	if ([self isLoggedIn])
 	{
-		[facebook logout:self];
+		//[facebook logout:self];
+		TiThreadPerformOnMainThread(^{[facebook logout:self];}, NO);
 	}
 }
 
@@ -530,6 +546,7 @@
 
 -(void)fireLoginChange
 {
+	NSLog(@"FacebookModule: fireLoginChange");
 	if (stateListeners!=nil)
 	{
 		for (id<TiFacebookStateListener> listener in [NSArray arrayWithArray:stateListeners])
@@ -554,6 +571,7 @@
  */
 - (void)fbDidLogin
 {
+	NSLog(@"FacebookModule: fbDidLogin");
 	VerboseLog(@"[DEBUG] facebook fbDidLogin");
 
 	[facebook requestWithGraphPath:@"me" andDelegate:self];
@@ -564,6 +582,7 @@
  */
 - (void)fbDidNotLogin:(BOOL)cancelled
 {
+	NSLog(@"FacebookModule: fbDidNotLogin");
 	VerboseLog(@"[DEBUG] facebook fbDidNotLogin: cancelled=%d",cancelled);
 	loggedIn = NO;
 	[self fireLoginChange];
@@ -576,6 +595,7 @@
  */
 - (void)fbDidLogout
 {
+	NSLog(@"FacebookModule: fbDidLogout");
 	VerboseLog(@"[DEBUG] facebook fbDidLogout");
 	
 	loggedIn = NO;
@@ -639,6 +659,7 @@
 
 -(void)addListener:(id<TiFacebookStateListener>)listener
 {
+	NSLog(@"FacebookModule: addListener");
 	if (stateListeners==nil)
 	{
 		stateListeners = [[NSMutableArray alloc]init];
@@ -648,6 +669,7 @@
 
 -(void)removeListener:(id<TiFacebookStateListener>)listener
 {
+	NSLog(@"FacebookModule: removeListener");
 	if (stateListeners!=nil)
 	{
 		[stateListeners removeObject:listener];
